<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Royal Spice Biriyani House</title>

<!-- jsPDF -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background-color: #fff7e6;
    color: #4a2c2a;
    overflow-x: hidden;
}

header {
    background: #b33c00;
    padding: 20px;
    text-align: center;
    color: white;
    font-size: 28px;
    font-weight: bold;
}

nav {
    background: #ffb84d;
    padding: 12px;
    text-align: center;
}
nav a {
    margin: 0 15px;
    color: #4a2c2a;
    text-decoration: none;
    font-size: 18px;
    font-weight: bold;
    transition: all 0.3s ease;
}
nav a:hover {
    color: #fff;
    text-shadow: 2px 2px 5px #cc3300;
    transform: scale(1.1);
}

.hero {
    background: url('https://images.unsplash.com/photo-1608138273246-3c4d475a726a') center/cover no-repeat;
    height: 350px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 36px;
    font-weight: bold;
    text-align: center;
    padding: 20px;
    color: orange;
    text-shadow: 0 0 15px orange;
}

#menu {
    background: url('https://images.unsplash.com/photo-1543353071-087092ec393a') center/cover no-repeat;
    padding: 40px;
    position: relative;
    color: white;
}
#menu::before {
    content: "";
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.55);
}
#menu > * {
    position: relative;
    z-index: 2;
}

.menu-item {
    background: rgba(255, 224, 179, 0.85);
    padding: 15px;
    margin: 10px 0;
    border-radius: 8px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    color: #4a2c2a;
}

.menu-item button {
    background: #cc3300;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 5px;
    cursor: pointer;
}

#cart-section {
    background: #fff0d6;
    padding: 40px;
}

.cart-item {
    display: flex;
    justify-content: space-between;
    margin: 8px 0;
}

.order-btn {
    background: #cc3300;
    padding: 15px 30px;
    color: white;
    font-size: 20px;
    border-radius: 8px;
    cursor: pointer;
}

footer {
    background: #b33c00;
    color: white;
    text-align: center;
    padding: 20px;
    margin-top: 40px;
}

/* POPUPS */
#order-popup, #payment-popup, #card-popup, #upi-popup {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: white;
    border-radius: 15px;
    padding: 30px;
    box-shadow: 0 0 20px rgba(0,0,0,0.5);
    z-index: 100;
    width: 90%;
    max-width: 450px;
    text-align: center;
}

#payment-popup input,
#card-popup input,
#upi-popup input {
    width: 90%;
    padding: 8px;
    margin: 5px 0;
}

.green-tick {
    font-size: 50px;
    color: green;
}

#whatsapp-btn {
    background: #25d366;
    color: white;
    padding: 10px 15px;
    border-radius: 5px;
    text-decoration: none;
}
</style>
</head>

<body>

<header>Royal Spice Biriyani House</header>

<nav>
    <a href="#home">Home</a>
    <a href="#menu">Menu</a>
    <a href="#cart-section">Cart</a>
    <a href="#contact">Contact</a>
</nav>

<div class="hero" id="home">‚ÄúTaste the Authentic Royal Biriyani‚Äù</div>

<section id="menu">
    <h2>üçΩ Order Menu</h2>
    <div class="menu-item"><span>Chicken Biriyani - ‚Çπ180</span><button onclick="addToCart('Chicken Biriyani',180)">Add</button></div>
    <div class="menu-item"><span>Mutton Biriyani - ‚Çπ250</span><button onclick="addToCart('Mutton Biriyani',250)">Add</button></div>
    <div class="menu-item"><span>Veg Biriyani - ‚Çπ140</span><button onclick="addToCart('Veg Biriyani',140)">Add</button></div>
    <div class="menu-item"><span>Egg Biriyani - ‚Çπ130</span><button onclick="addToCart('Egg Biriyani',130)">Add</button></div>
    <div class="menu-item"><span>Chicken 65 - ‚Çπ160</span><button onclick="addToCart('Chicken 65',160)">Add</button></div>
    <div class="menu-item"><span>Butter Chicken - ‚Çπ200</span><button onclick="addToCart('Butter Chicken',200)">Add</button></div>
</section>

<section id="cart-section">
    <h2>üõí Your Cart</h2>
    <div id="cart"></div>
    <h3>Total: ‚Çπ<span id="total">0</span></h3>
    <button class="order-btn" onclick="showPaymentPopup()">Pay & Place Order</button>
</section>

<section id="contact">
    <h2>Contact Us</h2>
    <p><strong>Address:</strong> Royal Spice Biriyani House, Main Street, Trichy</p>
    <p><strong>Phone:</strong> +91 98765 43210</p>
    <p><strong>Working Hours:</strong> 10 AM ‚Äì 2 PM</p>
</section>

<footer>¬© 2025 Royal Spice Biriyani House - All Rights Reserved.</footer>

<!-- PAYMENT POPUP -->
<div id="payment-popup">
    <h2>Select Payment Method</h2>
    <p>Total: ‚Çπ<span id="payment-total">0</span></p>

    <button onclick="showCardBox()">üí≥ Card Payment</button>
    <button onclick="showUPIBox()">üì± UPI Payment</button>
    <button onclick="processCOD()">üíµ Cash on Delivery</button>
</div>

<!-- CARD DETAILS BOX -->
<div id="card-popup">
    <h3>Card Payment</h3>
    <input type="text" id="card-number" placeholder="Card Number (16 digits)" maxlength="16"><br>
    <input type="text" id="expiry" placeholder="Expiry (MM/YY)" maxlength="5"><br>
    <input type="text" id="cvv" placeholder="CVV (3 digits)" maxlength="3"><br>
    <button onclick="processCardPayment()">Pay with Card</button>
    <button onclick="closeCardBox()">Cancel</button>
</div>

<!-- UPI BOX -->
<div id="upi-popup">
    <h3>UPI Payment</h3>
    <input type="text" id="upi-id" placeholder="example@upi">
    <button onclick="generateUPIQR()">Generate QR</button>

    <div id="upi-qr-section" style="display:none;">
        <p><strong>Scan & Pay</strong></p>
        <img id="upi-qr" width="200">
        <br><br>
        <button onclick="confirmUPIQR()">Payment Done</button>
    </div>

    <button onclick="closeUPIBox()">Cancel</button>
</div>

<!-- ORDER POPUP -->
<div id="order-popup">
    <div class="green-tick">‚úîÔ∏è</div>
    <h2>Your Order Has Been Placed!</h2>
    <div id="popup-items"></div>
    <p>Order ID: <span id="order-id"></span></p>
    <p><strong>Order Status:</strong> <span id="order-status">Placed</span></p>
    <button onclick="downloadInvoice()">üßæ Download Invoice</button>
    <br><br>
    <button onclick="closePopup()">OK</button>
</div>

<script>
var cart = {};

function addToCart(itemName, price){
    if(!cart[itemName]){
        cart[itemName]={ quantity:1, price:price };
    } else {
        cart[itemName].quantity++;
    }
    updateCart();
}

function updateCart(){
    var cartDiv=document.getElementById("cart");
    var totalDiv=document.getElementById("total");
    var paymentTotal=document.getElementById("payment-total");
    cartDiv.innerHTML="";
    var total=0;

    for(var item in cart){
        var entry=cart[item];
        total+=entry.price*entry.quantity;
        cartDiv.innerHTML+=
        "<div class='cart-item'>" +
        "<span>"+item+" √ó "+entry.quantity+"</span>" +
        "<span>‚Çπ"+(entry.price*entry.quantity)+"</span>" +
        "</div>";
    }
    totalDiv.innerText=total;
    paymentTotal.innerText=total;
}

function showPaymentPopup(){
    if(Object.keys(cart).length===0){
        alert("Cart is empty!");
        return;
    }
    document.getElementById("payment-popup").style.display="block";
}

function closePaymentPopup(){
    document.getElementById("payment-popup").style.display="none";
}

// CARD PAYMENT FLOW
function showCardBox(){
    document.getElementById("payment-popup").style.display="none";
    document.getElementById("card-popup").style.display="block";
}
function closeCardBox(){
    document.getElementById("card-popup").style.display="none";
    document.getElementById("payment-popup").style.display="block";
}
function processCardPayment(){
    var card=document.getElementById("card-number").value;
    var exp=document.getElementById("expiry").value;
    var cvv=document.getElementById("cvv").value;
    if(card.length!==16 || exp.length!==5 || cvv.length!==3){
        alert("Invalid card details!");
        return;
    }
    document.getElementById("card-popup").style.display="none";
    placeOrder();
}

// UPI PAYMENT FLOW
function showUPIBox(){
    document.getElementById("payment-popup").style.display="none";
    document.getElementById("upi-popup").style.display="block";
    document.getElementById("upi-qr-section").style.display="none";
}
function closeUPIBox(){
    document.getElementById("upi-popup").style.display="none";
    document.getElementById("payment-popup").style.display="block";
}
function generateUPIQR(){
    var upi=document.getElementById("upi-id").value;
    if(!upi.includes("@")){
        alert("Invalid UPI ID!");
        return;
    }
    var amount=document.getElementById("payment-total").innerText;
    var url="upi://pay?pa="+upi+"&pn=Royal Spice Biriyani House&am="+amount+"&cu=INR";
    document.getElementById("upi-qr").src=
        "https://api.qrserver.com/v1/create-qr-code/?size=200x200&data="+encodeURIComponent(url);
    document.getElementById("upi-qr-section").style.display="block";
}
function confirmUPIQR(){
    document.getElementById("upi-popup").style.display="none";
    placeOrder();
}

// COD
function processCOD(){
    document.getElementById("payment-popup").style.display="none";
    placeOrder();
}

// ORDER PROCESS
function placeOrder(){
    var orderId="RSB"+Math.floor(Math.random()*1000000);
    document.getElementById("order-id").innerText=orderId;

    var items=document.getElementById("popup-items");
    items.innerHTML="";
    for(var item in cart){
        items.innerHTML+="<p>"+item+" √ó "+cart[item].quantity+"</p>";
    }
    document.getElementById("order-popup").style.display="block";
    startOrderStatus();
}

function startOrderStatus(){
    var status=document.getElementById("order-status");
    status.innerText="Placed";
    setTimeout(function(){ status.innerText="Preparing"; },3000);
    setTimeout(function(){ status.innerText="Ready"; },6000);
    setTimeout(function(){ status.innerText="Delivered"; },9000);
}

function closePopup(){
    document.getElementById("order-popup").style.display="none";
    cart={};
    updateCart();
}

// INVOICE
function downloadInvoice(){
    var doc=new jspdf.jsPDF();
    var y=20;
    doc.text("Royal Spice Biriyani House",20,y);
    y+=10;
    for(var item in cart){
        doc.text(item+" x "+cart[item].quantity,20,y);
        y+=8;
    }
    doc.text("Total ‚Çπ"+document.getElementById("total").innerText,20,y+10);
    doc.save("Invoice.pdf");
}
</script>

</body>
</html>
